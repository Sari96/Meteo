{"mappings":"AAAA,0CAA0C;AAC1C,MAAM,UAAQ;AACd,IAAI,QAAQ,kBAAkB,aAAa,aAAa;AACxD,IAAI;AAEJ,MAAM,WAAW,CAAC,KAAK,MAAQ;IAC7B,MAAM,MAAM,CAAC,+DAA+D,EAAE,IAAI,KAAK,EAAE,IAAI,uCAAuC,CAAC;IACrI,QAAQ,GAAG,CAAC;IACZ,MAAM,KACL,IAAI,CAAC,CAAC,WAAa,SAAS,IAAI,IAChC,IAAI,CAAC,CAAC,OAAS;QACd,SAAS;QACT,IAAI;QACJ,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,QAAU;YACjC,MAAM,WAAW,IAAI,KAAK,KAAK,MAAM;YACrC,IAAI,QAAQ,aAAa,KAAK,OAAO,MAAM,SAAS,OAAO,IAAI;gBAC7D,OAAO;gBACP,eAAe,MAAM,CAAC,CAAC,mEAAmE,EAAE,KAAK,OAAO,GAAG,6CAA6C,EAAE,MAAM;+DACzG,EAAE,KAAK,OAAO,GAAG,EAAE,EAAE,KAAK,cAAc,CAAC,SAAS;oBAAC,OAAO;oBAAQ,KAAK;oBAAW,OAAO;gBAAS,GAAG,QAAQ,CAAC;YACvK,CAAC;QACH;QAEA,eAAe;QACf,iBAAiB,WAAW,CAAC;IAC/B;AACF;AAEA,MAAM,iBAAiB,CAAC,aAAe;IACrC,iBAAiB;IACjB,MAAM,UAAU,AAAC,IAAI,KAAK,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,EAAG,OAAO;IAClE,WAAW,OAAO,IAAI,CAAC,aAAa,CAAC,CAAA,OAAQ,AAAC,IAAI,KAAK,KAAK,MAAM,EAAG,OAAO,MAAM;IAClF,iBAAiB,WAAW,CAAC;QAC3B,OAAO;QACP,KAAK;QACL,KAAK;IACP;IACA,IAAI,kBAAkB,UACpB,iBAAiB,WAAW,CAAC;SAE7B,iBAAiB,WAAW,CAAC;IAC/B,eAAe;AACjB;AAEA,MAAM,iBAAiB,CAAC,QAAU;IAChC,MAAM,OAAO,OAAO,IAAI,CAAC,MAAM;IAC/B,MAAM,OAAO,IAAI,KAAK,KAAK,MAAM;IACjC,YAAY,IAAI,CAAC,KAAK,kBAAkB,CAAC,UAAU,QAAQ,EAAE;QAAC,MAAM;QAAW,QAAO;IAAS;IAC/F,YAAY,IAAI,CAAC,OAAO,CAAC,iCAAiC,EAAE,KAAK,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC;AAC3F;AAEA,MAAM,SAAS,CAAC,KAAK,MAAQ;IAC3B,MAAM,aAAa,EAAE;IACrB,WAAW,IAAI,CAAC,OAAO,CAAC,iEAAiE,EAAE,QAAQ,GAAG,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC;IACpH,WAAW,WAAW,CAAC;AACzB;AAEA,EAAE,UAAU,KAAK,CAAC,IAAM;IACtB,cAAc,EAAE;IAChB,cAAc,EAAE;IAChB,mBAAmB,EAAE;IACrB,iBAAiB,WAAW,CAAC;QAC3B,QAAQ;QACR,aAAa;QACb,aAAa,KAAK;QAClB,OAAO;QACP,UAAU,IAAI;QACd,KAAK;QACL,KAAK;QACL,mBAAmB,IAAI;QACvB,gBAAgB,IAAI;QACpB,QAAQ,CAAC,IAAM,eAAe,EAAE,KAAK;IACvC;IAEA,iBAAiB,EAAE;IACnB,UAAU,WAAW,CAAC,kBAAkB,CAAC,CAAC,WAAa;QACrD,QAAQ,GAAG,CAAC;QACZ,IAAI,MAAM,SAAS,MAAM,CAAC,QAAQ;QAClC,IAAI,MAAM,SAAS,MAAM,CAAC,SAAS;QACnC,SAAS,KAAK;QACd,OAAO,KAAK;IACd;AACF","sources":["scripts.js"],"sourcesContent":["// https://roundsliderui.com/document.html\nconst API_KEY=\"\";\nlet values, dateRangeElement, dateElement, iconElement, dateBarElement;\nlet startDateIndex;\n\nconst loadData = (lat, lng) => {\n  const url = `https://api.openweathermap.org/data/2.5/forecast?id=524901&lat=${lat}&lon=${lng}&appid=ca0bc81789a77b485742ed7b77c9a1b9`;\n  console.log(url);\n  fetch(url)\n  .then((response) => response.json())\n  .then((data) => {\n    values = data;\n    var date;\n    data.list.forEach((item, index) => {\n      const currDate = new Date(item.dt_txt);\n      if (date == undefined || date.getDate() != currDate.getDate()) {\n        date = currDate;\n        dateBarElement.append(`<input type=\"radio\" class=\"btn-check\" name=\"btnradio\" id=\"btnradio-${date.getDate()}\" autocomplete=\"off\" onclick=\"setWeatherDate(${index})\">\n          <label class=\"btn btn-outline-primary\" for=\"btnradio-${date.getDate()}\">${date.toLocaleString('it-IT', {short: 'long', day: '2-digit', month: '2-digit'})}</label>`);\n      }\n    });\n\n    setWeatherDate(0);\n    dateRangeElement.roundSlider(\"enable\");\n  });\n}\n\nconst setWeatherDate = (startIndex) => {\n  startDateIndex = startIndex;\n  const currDay = (new Date(values.list[startIndex].dt_txt)).getDate();\n  endIndex = values.list.findLastIndex(elem => (new Date(elem.dt_txt)).getDate() == currDay);\n  dateRangeElement.roundSlider({\n    value: startIndex,\n    min: startIndex,\n    max: endIndex\n  });\n  if (startDateIndex == endIndex)\n    dateRangeElement.roundSlider(\"disable\");\n  else\n    dateRangeElement.roundSlider(\"enable\");\n  setWeatherTime(startIndex);\n}\n\nconst setWeatherTime = (index) => {\n  const item = values.list[index];\n  const date = new Date(item.dt_txt);\n  dateElement.html(date.toLocaleTimeString(navigator.language, {hour: '2-digit', minute:'2-digit'}));\n  iconElement.attr(\"src\", `http://openweathermap.org/img/wn/${item.weather[0].icon}@2x.png`);\n}\n\nconst setMap = (lat, lng) => {\n  const mapElement = $(\"#map\");\n  mapElement.attr(\"src\", `https://www.google.com/maps/embed/v1/place?maptype=satellite&key=${API_KEY}&q=${lat},${lng}`);\n  mapElement.removeClass(\"invisible\");\n}\n\n$(document).ready(() => {\n  iconElement = $(\"#dw-icon\");\n  dateElement = $(\"#dw-date\");\n  dateRangeElement = $(\"#dateRange\");\n  dateRangeElement.roundSlider({\n    radius: 80,\n    circleShape: \"half-top\",\n    showTooltip: false,\n    value: 0,\n    disabled: true,\n    min: 0,\n    max: 7,\n    mouseScrollAction: true,\n    keyboardAction: true,\n    change: (e) => setWeatherTime(e.value)\n  });\n\n  dateBarElement = $(\"#dateBar\");\n  navigator.geolocation.getCurrentPosition((position) => {\n    console.log(position)\n    let lat = position.coords.latitude;\n    let lng = position.coords.longitude;\n    loadData(lat, lng);\n    setMap(lat, lng);\n  });\n});"],"names":[],"version":3,"file":"index.5e469f4a.js.map","sourceRoot":"/__parcel_source_root/"}