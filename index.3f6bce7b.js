const API_KEY="";let values,dateRangeElement,dateElement,iconElement,dateBarElement,startDateIndex;const loadData=(e,t)=>{const a=`https://api.openweathermap.org/data/2.5/forecast?id=524901&lat=${e}&lon=${t}&appid=ca0bc81789a77b485742ed7b77c9a1b9`;console.log(a),fetch(a).then((e=>e.json())).then((e=>{var t;values=e,e.list.forEach(((e,a)=>{const n=new Date(e.dt_txt);null!=t&&t.getDate()==n.getDate()||(t=n,dateBarElement.append(`<input type="radio" class="btn-check" name="btnradio" id="btnradio-${t.getDate()}" autocomplete="off" onclick="setWeatherDate(${a})">\n          <label class="btn btn-outline-primary" for="btnradio-${t.getDate()}">${t.toLocaleString("it-IT",{short:"long",day:"2-digit",month:"2-digit"})}</label>`))})),setWeatherDate(0),dateRangeElement.roundSlider("enable")}))},setWeatherDate=e=>{startDateIndex=e;const t=new Date(values.list[e].dt_txt).getDate();endIndex=values.list.findLastIndex((e=>new Date(e.dt_txt).getDate()==t)),dateRangeElement.roundSlider({value:e,min:e,max:endIndex}),startDateIndex==endIndex?dateRangeElement.roundSlider("disable"):dateRangeElement.roundSlider("enable"),setWeatherTime(e)},setWeatherTime=e=>{const t=values.list[e],a=new Date(t.dt_txt);dateElement.html(a.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})),iconElement.attr("src",`http://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png`)},setMap=(e,t)=>{const a=$("#map");a.attr("src",`https://www.google.com/maps/embed/v1/place?maptype=satellite&key=&q=${e},${t}`),a.removeClass("invisible")};$(document).ready((()=>{iconElement=$("#dw-icon"),dateElement=$("#dw-date"),dateRangeElement=$("#dateRange"),dateRangeElement.roundSlider({radius:80,circleShape:"half-top",showTooltip:!1,value:0,disabled:!0,min:0,max:7,mouseScrollAction:!0,keyboardAction:!0,change:e=>setWeatherTime(e.value)}),dateBarElement=$("#dateBar"),navigator.geolocation.getCurrentPosition((e=>{console.log(e);let t=e.coords.latitude,a=e.coords.longitude;loadData(t,a),setMap(t,a)}))}));
//# sourceMappingURL=index.3f6bce7b.js.map
